name: 'gitbook action for publishing new link for added marketing documents'

on:
  push:
    branches:
      - master
      - temp-branch

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout action
      uses: actions/checkout@v3
    


    - name: Gitbook Action
      uses: zanderzhao/gitbook-action@v1.2.4 # https://github.com/ZanderZhao/gitbook-action/releases 
      with:                                # Just example, click above, use latest please 
        token: ${{ secrets.PERSONAL_TOKEN }}

      ## now detect last edited files and store them into the pages as standardised names
      run: |
          CHANGED_FILES = $(git show --name-only --oneline HEAD) 
          ( for i in ""${CHANGED_FILES[@]}"; 
          do 
            mv `${CHANGED_FILES[i]}` `${CHANGED_FILES[i]_current_version}`
          done
          )




